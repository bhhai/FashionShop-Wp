<?php
 if (!defined('ABSPATH')) exit; use pQuery\Html5Parser; use pQuery\HtmlFormatter; function str_get_dom($str, $return_root = true) { $a = new Html5Parser($str); return (($return_root) ? $a->root : $a); } function file_get_dom($file, $return_root = true, $use_include_path = false, $context = null) { if (version_compare(PHP_VERSION, '5.0.0', '>=')) $f = file_get_contents($file, $use_include_path, $context); else { if ($context !== null) trigger_error('Context parameter not supported in this PHP version'); $f = file_get_contents($file, $use_include_path); } return (($f === false) ? false : str_get_dom($f, $return_root)); } function dom_format(&$root, $options = array()) { $formatter = new HtmlFormatter($options); return $formatter->format($root); } if (version_compare(PHP_VERSION, '5.0.0', '<')) { function str_split($string) { $res = array(); $size = strlen($string); for ($i = 0; $i < $size; $i++) { $res[] = $string[$i]; } return $res; } } if (version_compare(PHP_VERSION, '5.2.0', '<')) { function array_fill_keys($keys, $value) { $res = array(); foreach($keys as $k) { $res[$k] = $value; } return $res; } } if (!defined('GANON_NO_INCLUDES')) { define('GANON_NO_INCLUDES', true); include_once('IQuery.php'); include_once('gan_tokenizer.php'); include_once('gan_parser_html.php'); include_once('gan_node_html.php'); include_once('gan_selector_html.php'); include_once('gan_formatter.php'); } ?>